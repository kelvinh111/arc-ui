"use strict";!function(a){a(function(){function n(){a(".section").each(function(n,e){var i=a(e),o=i.attr("id"),t=i.position().top;switch(c[o]={top:t},o){case"navigation":c[o].enter=function(){a("#navigation nav").addClass("show")},c[o].leave=function(){a("#navigation nav").removeClass("show")};break;case"accordion":c[o].enter=function(){a("#accordion .arc-accordion").addClass("show")},c[o].leave=function(){a("#accordion .arc-accordion").removeClass("show")}}})}function e(){var n=i.scrollTop();_.each(c,function(e,i){n>=e.top-120&&t!==i&&(_.has(c,t)&&"undefined"!=typeof c[t].leave&&c[t].leave(),"undefined"!=typeof c[i].enter&&c[i].enter(),t=i,clearTimeout(s),s=setTimeout(function(){n==c[t].top+140||"image"!=t&&"tabs"!=t&&"slideshow"!=t||a("html, body").animate({scrollTop:c[t].top+140},300)},800))})}var i=a(document),o=a("body");a("#toggle").on("click",function(n){a(this).toggleClass("active"),a("#ref").toggleClass("active")});var t="",c={},s=null;i.on("scroll",e),n(),a("#nav-toggle").on("click",function(n){a(this).parent("nav").toggleClass("active"),a(this).parent("nav").hasClass("active")?o.addClass("lock"):o.removeClass("lock")}),a(".arc-accordion li").each(function(e,i){var o=a(i);o.on("click",function(e){o.toggleClass("active");var i=o.find("> ul");if(o.hasClass("active")){a(".arc-accordion").addClass("active"),o.siblings().removeClass("active"),TweenMax.to(o.siblings().find("> ul"),.4,{height:0});var t=o.find("> span").text();a(".arc-accordion-title span").text(t),TweenMax.set(i,{height:"auto"}),TweenMax.from(i,.4,{height:0,onComplete:function(){n()}})}else a(".arc-accordion").removeClass("active"),TweenMax.to(i,.4,{height:0,onComplete:function(){n()}})})}),a(".arc-accordion-close").on("click",function(n){a(".arc-accordion li.active").trigger("click")});var l=a("#popup"),r=new TimelineLite({paused:!0});r.to(l,.01,{display:"block"}),r.to(l,.4,{opacity:1}),l.animation=r,a("#trigger-modal").on("click",function(a){l.animation.play(),o.addClass("lock")}),l.find("a.btn-small").on("click",function(){l.animation.reverse(),o.removeClass("lock")}),a("#tabs svg text").on("click",function(n){var e=a(this);e.parent("g").addClass("active").siblings().removeClass("active");var i=e.attr("data-target");a("#"+i).addClass("active").siblings().removeClass("active")});new Swiper(".swiper-container",{pagination:".swiper-pagination"})})}(jQuery);