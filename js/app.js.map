{"version":3,"sources":["app.js"],"names":["$","$doc","document","$body","on","e","toggleClass","current","sections","initSections","each","i","v","$v","id","attr","top","position","enter","addClass","leave","removeClass","timer","onScroll","st","scrollTop","_","n","k","has","clearTimeout","setTimeout","animate","parent","hasClass","$li","$ul","find","siblings","TweenMax","to","height","title","text","set","from","onComplete","trigger","$popup","popupShow","tl","TimelineLite","paused","display","opacity","animation","play","reverse","$this","target","mySwiper","Swiper","pagination","jQuery"],"mappings":"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","file":"app.js","sourcesContent":["/*\n * Spaghetti code now\n * have to refactor\n */\n(function($) {\n    $(function() {\n\n        var $doc = $(document);\n        var $body = $(\"body\");\n\n\n        // debug\n        $(\"#toggle\").on(\"click\", function(e) {\n            $(this).toggleClass(\"active\");\n            $(\"#ref\").toggleClass(\"active\");\n        });\n\n\n        // all sections\n        var current = \"\";\n        var sections = {};\n\n        function initSections() {\n            $(\".section\").each(function(i,v) {\n                var $v = $(v);\n                var id = $v.attr(\"id\");\n                var top = $v.position().top;\n\n                sections[id] = {\n                    top: top,\n                }\n\n                switch (id) {\n                    case \"navigation\":\n                        sections[id].enter = function() {\n                        $(\"#navigation nav\").addClass(\"show\");\n                    };\n\n                    sections[id].leave = function() {\n                        $(\"#navigation nav\").removeClass(\"show\");\n                    };\n\n                    break;\n\n                    case \"accordion\":\n                        sections[id].enter = function() {\n                        $(\"#accordion .arc-accordion\").addClass(\"show\");\n                    };\n\n                    sections[id].leave = function() {\n                        $(\"#accordion .arc-accordion\").removeClass(\"show\");\n                    };\n\n                    break;\n                }\n            });\n        }\n\n\n        var timer = null;\n        function onScroll() {\n            var st = $doc.scrollTop();\n            _.each(sections, function(n,k) {\n                if (st >= n.top-120 && current !== k) {\n                    if (_.has(sections, current) && typeof sections[current].leave !== \"undefined\")  {\n                        sections[current].leave();\n                    }\n\n                    if (typeof sections[k].enter !== \"undefined\") {\n                        sections[k].enter();\n                    }\n\n                    current = k;\n\n                    // snap\n                    clearTimeout(timer);\n                    timer = setTimeout(function() {\n                        if (st != sections[current].top + 140\n                           && (current == \"image\" \n                                || current == \"tabs\"\n                                || current == \"slideshow\")) {\n                            $('html, body').animate({\n                                scrollTop: sections[current].top + 140\n                            }, 300);\n                        }\n                    }, 800);\n\n                }\n            });\n        }\n\n        $doc.on(\"scroll\", onScroll);\n        initSections();\n\n\n        // navigation\n        $(\"#nav-toggle\").on(\"click\", function(e) {\n            $(this).parent(\"nav\").toggleClass(\"active\");\n            if ($(this).parent(\"nav\").hasClass(\"active\")) {\n                $body.addClass(\"lock\");\n            } else {\n                $body.removeClass(\"lock\");\n            }\n        });\n\n        // accordion\n        $(\".arc-accordion li\").each(function(i,v) {\n            var $li = $(v);\n            $li.on(\"click\", function(e) {\n                $li.toggleClass(\"active\");\n                var $ul = $li.find(\"> ul\");\n                if ($li.hasClass(\"active\")) {\n                    $(\".arc-accordion\").addClass(\"active\");\n                    $li.siblings().removeClass(\"active\");\n                    TweenMax.to($li.siblings().find(\"> ul\"), 0.4, {\n                        height: 0,\n                    });\n\n                    var title = $li.find(\"> span\").text();\n                    $(\".arc-accordion-title span\").text(title);\n                    TweenMax.set($ul, {height:\"auto\"});\n                    TweenMax.from($ul, 0.4, {\n                        height:0,\n                        onComplete: function() {\n                            initSections();\n                        }\n                    });\n                } else {\n                    $(\".arc-accordion\").removeClass(\"active\");\n                    TweenMax.to($ul, 0.4, {\n                        height: 0,\n                        onComplete: function() {\n                            initSections();\n                        }\n                    });\n                }\n            });\n        });\n\n        $(\".arc-accordion-close\").on(\"click\", function(e) {\n            $(\".arc-accordion li.active\").trigger(\"click\");\n        });\n\n\n        // modal\n        var $popup = $(\"#popup\");\n        var popupShow = false;\n        var tl = new TimelineLite({paused:true});\n        tl.to($popup, 0.01, {display:\"block\"})\n        tl.to($popup, 0.4, {opacity: 1})\n        $popup.animation = tl;\n\n        $(\"#trigger-modal\").on(\"click\", function(e) {\n            $popup.animation.play();\n            $body.addClass(\"lock\");\n\n        });\n\n        $popup.find(\"a.btn-small\").on(\"click\", function() {\n            $popup.animation.reverse();\n            $body.removeClass(\"lock\");\n        })\n\n\n        // tabs\n        $(\"#tabs svg text\").on(\"click\", function(e) {\n            var $this = $(this);\n            $this.parent(\"g\").addClass(\"active\").siblings().removeClass(\"active\");\n            var target = $this.attr(\"data-target\");\n            $(\"#\" + target).addClass(\"active\").siblings().removeClass(\"active\");\n\n        });\n\n\n        // slideshow\n        var mySwiper = new Swiper(\".swiper-container\", {\n            pagination: \".swiper-pagination\"\n        });\n\n    });\n})(jQuery);;\n"],"sourceRoot":"/source/"}